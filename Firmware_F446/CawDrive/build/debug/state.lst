ARM GAS  C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"state.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Controller/State/state.c"
  20              		.section	.text.led_ctl,"ax",%progbits
  21              		.align	1
  22              		.global	led_ctl
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	led_ctl:
  28              	.LVL0:
  29              	.LFB239:
   1:Controller/State/state.c **** #include "./state.h"
   2:Controller/State/state.c **** 
   3:Controller/State/state.c **** #include <stdint.h>
   4:Controller/State/state.c **** 
   5:Controller/State/state.c **** #include "gpio.h"
   6:Controller/State/state.c **** 
   7:Controller/State/state.c **** static state_e g_state = STATE_DEBUG;
   8:Controller/State/state.c **** static uint8_t g_led_state = 0x01;
   9:Controller/State/state.c **** 
  10:Controller/State/state.c **** void led_ctl(uint8_t led_state) {
  30              		.loc 1 10 33 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 10 33 is_stmt 0 view .LVU1
  35 0000 10B5     		push	{r4, lr}
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 14, -4
  39 0002 0446     		mov	r4, r0
  11:Controller/State/state.c ****   if (led_state & 0x01) {
  40              		.loc 1 11 3 is_stmt 1 view .LVU2
  41              		.loc 1 11 6 is_stmt 0 view .LVU3
  42 0004 10F0010F 		tst	r0, #1
  43 0008 15D0     		beq	.L2
  12:Controller/State/state.c ****     HAL_GPIO_WritePin(LED_1_GPIO_Port, LED_1_Pin, GPIO_PIN_RESET);
  44              		.loc 1 12 5 is_stmt 1 view .LVU4
  45 000a 0022     		movs	r2, #0
  46 000c 0821     		movs	r1, #8
ARM GAS  C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s 			page 2


  47 000e 1348     		ldr	r0, .L9
  48              	.LVL1:
  49              		.loc 1 12 5 is_stmt 0 view .LVU5
  50 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
  51              	.LVL2:
  52              	.L3:
  13:Controller/State/state.c ****   } else {
  14:Controller/State/state.c ****     HAL_GPIO_WritePin(LED_1_GPIO_Port, LED_1_Pin, GPIO_PIN_SET);
  15:Controller/State/state.c ****   }
  16:Controller/State/state.c **** 
  17:Controller/State/state.c ****   if (led_state & 0x02) {
  53              		.loc 1 17 3 is_stmt 1 view .LVU6
  54              		.loc 1 17 6 is_stmt 0 view .LVU7
  55 0014 14F0020F 		tst	r4, #2
  56 0018 13D0     		beq	.L4
  18:Controller/State/state.c ****     HAL_GPIO_WritePin(LED_2_GPIO_Port, LED_2_Pin, GPIO_PIN_RESET);
  57              		.loc 1 18 5 is_stmt 1 view .LVU8
  58 001a 0022     		movs	r2, #0
  59 001c 0421     		movs	r1, #4
  60 001e 0F48     		ldr	r0, .L9
  61 0020 FFF7FEFF 		bl	HAL_GPIO_WritePin
  62              	.LVL3:
  63              	.L5:
  19:Controller/State/state.c ****   } else {
  20:Controller/State/state.c ****     HAL_GPIO_WritePin(LED_2_GPIO_Port, LED_2_Pin, GPIO_PIN_SET);
  21:Controller/State/state.c ****   }
  22:Controller/State/state.c **** 
  23:Controller/State/state.c ****   if (led_state & 0x04) {
  64              		.loc 1 23 3 view .LVU9
  65              		.loc 1 23 6 is_stmt 0 view .LVU10
  66 0024 14F0040F 		tst	r4, #4
  67 0028 11D0     		beq	.L6
  24:Controller/State/state.c ****     HAL_GPIO_WritePin(LED_3_GPIO_Port, LED_3_Pin, GPIO_PIN_RESET);
  68              		.loc 1 24 5 is_stmt 1 view .LVU11
  69 002a 0022     		movs	r2, #0
  70 002c 0221     		movs	r1, #2
  71 002e 0B48     		ldr	r0, .L9
  72 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
  73              	.LVL4:
  74              	.L1:
  25:Controller/State/state.c ****   } else {
  26:Controller/State/state.c ****     HAL_GPIO_WritePin(LED_3_GPIO_Port, LED_3_Pin, GPIO_PIN_SET);
  27:Controller/State/state.c ****   }
  28:Controller/State/state.c **** }
  75              		.loc 1 28 1 is_stmt 0 view .LVU12
  76 0034 10BD     		pop	{r4, pc}
  77              	.LVL5:
  78              	.L2:
  14:Controller/State/state.c ****   }
  79              		.loc 1 14 5 is_stmt 1 view .LVU13
  80 0036 0122     		movs	r2, #1
  81 0038 0821     		movs	r1, #8
  82 003a 0848     		ldr	r0, .L9
  83              	.LVL6:
  14:Controller/State/state.c ****   }
  84              		.loc 1 14 5 is_stmt 0 view .LVU14
  85 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s 			page 3


  86              	.LVL7:
  87 0040 E8E7     		b	.L3
  88              	.L4:
  20:Controller/State/state.c ****   }
  89              		.loc 1 20 5 is_stmt 1 view .LVU15
  90 0042 0122     		movs	r2, #1
  91 0044 0421     		movs	r1, #4
  92 0046 0548     		ldr	r0, .L9
  93 0048 FFF7FEFF 		bl	HAL_GPIO_WritePin
  94              	.LVL8:
  95 004c EAE7     		b	.L5
  96              	.L6:
  26:Controller/State/state.c ****   }
  97              		.loc 1 26 5 view .LVU16
  98 004e 0122     		movs	r2, #1
  99 0050 0221     		movs	r1, #2
 100 0052 0248     		ldr	r0, .L9
 101 0054 FFF7FEFF 		bl	HAL_GPIO_WritePin
 102              	.LVL9:
 103              		.loc 1 28 1 is_stmt 0 view .LVU17
 104 0058 ECE7     		b	.L1
 105              	.L10:
 106 005a 00BF     		.align	2
 107              	.L9:
 108 005c 00080240 		.word	1073874944
 109              		.cfi_endproc
 110              	.LFE239:
 112              		.section	.text.state_step,"ax",%progbits
 113              		.align	1
 114              		.global	state_step
 115              		.syntax unified
 116              		.thumb
 117              		.thumb_func
 119              	state_step:
 120              	.LFB240:
  29:Controller/State/state.c **** 
  30:Controller/State/state.c **** void state_step(void) {
 121              		.loc 1 30 23 is_stmt 1 view -0
 122              		.cfi_startproc
 123              		@ args = 0, pretend = 0, frame = 0
 124              		@ frame_needed = 0, uses_anonymous_args = 0
 125 0000 08B5     		push	{r3, lr}
 126              		.cfi_def_cfa_offset 8
 127              		.cfi_offset 3, -8
 128              		.cfi_offset 14, -4
  31:Controller/State/state.c ****   if (STATE_INIT == g_state) {
 129              		.loc 1 31 3 view .LVU19
 130              	.LBB2:
  32:Controller/State/state.c ****     g_led_state = 0x07;
  33:Controller/State/state.c ****     led_ctl(g_led_state);
  34:Controller/State/state.c ****   }
  35:Controller/State/state.c **** 
  36:Controller/State/state.c ****   else if (STATE_DEBUG == g_state) {
  37:Controller/State/state.c ****     static uint8_t dir = 0;
 131              		.loc 1 37 5 view .LVU20
  38:Controller/State/state.c ****     led_ctl(g_led_state);
 132              		.loc 1 38 5 view .LVU21
ARM GAS  C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s 			page 4


 133 0002 0E4B     		ldr	r3, .L16
 134 0004 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 135 0006 FFF7FEFF 		bl	led_ctl
 136              	.LVL10:
  39:Controller/State/state.c ****     if (0 == dir) {
 137              		.loc 1 39 5 view .LVU22
 138              		.loc 1 39 11 is_stmt 0 view .LVU23
 139 000a 0D4B     		ldr	r3, .L16+4
 140 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 141              		.loc 1 39 8 view .LVU24
 142 000e 5BB9     		cbnz	r3, .L12
  40:Controller/State/state.c ****       g_led_state = g_led_state << 1;
 143              		.loc 1 40 7 is_stmt 1 view .LVU25
 144              		.loc 1 40 33 is_stmt 0 view .LVU26
 145 0010 0A4A     		ldr	r2, .L16
 146 0012 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 147 0014 5B00     		lsls	r3, r3, #1
 148 0016 DBB2     		uxtb	r3, r3
 149              		.loc 1 40 19 view .LVU27
 150 0018 1370     		strb	r3, [r2]
  41:Controller/State/state.c ****       if (0x04 == g_led_state) {
 151              		.loc 1 41 7 is_stmt 1 view .LVU28
 152              		.loc 1 41 10 is_stmt 0 view .LVU29
 153 001a 042B     		cmp	r3, #4
 154 001c 00D0     		beq	.L15
 155              	.L11:
 156              	.LBE2:
  42:Controller/State/state.c ****         dir = 1;
  43:Controller/State/state.c ****       }
  44:Controller/State/state.c ****     } else {
  45:Controller/State/state.c ****       g_led_state = g_led_state >> 1;
  46:Controller/State/state.c ****       if (0x01 == g_led_state) {
  47:Controller/State/state.c ****         dir = 0;
  48:Controller/State/state.c ****       }
  49:Controller/State/state.c ****     }
  50:Controller/State/state.c ****   }
  51:Controller/State/state.c **** 
  52:Controller/State/state.c ****   else if (STATE_IDLE == g_state) {
  53:Controller/State/state.c ****     g_led_state = 0x04;
  54:Controller/State/state.c ****     led_ctl(g_led_state);
  55:Controller/State/state.c ****   }
  56:Controller/State/state.c **** 
  57:Controller/State/state.c ****   else if (STATE_RUN == g_state) {
  58:Controller/State/state.c ****     if (0x01 != g_led_state) {
  59:Controller/State/state.c ****       g_led_state = 0x01;
  60:Controller/State/state.c ****     } else {
  61:Controller/State/state.c ****       g_led_state = 0x00;
  62:Controller/State/state.c ****     }
  63:Controller/State/state.c ****     led_ctl(g_led_state);
  64:Controller/State/state.c ****   }
  65:Controller/State/state.c **** 
  66:Controller/State/state.c ****   else if (STATE_ERROR == g_state) {
  67:Controller/State/state.c ****     g_led_state = 0x02;
  68:Controller/State/state.c ****     led_ctl(g_led_state);
  69:Controller/State/state.c ****   }
  70:Controller/State/state.c **** }...
 157              		.loc 1 70 1 view .LVU30
ARM GAS  C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s 			page 5


 158 001e 08BD     		pop	{r3, pc}
 159              	.L15:
 160              	.LBB3:
  42:Controller/State/state.c ****         dir = 1;
 161              		.loc 1 42 9 is_stmt 1 view .LVU31
  42:Controller/State/state.c ****         dir = 1;
 162              		.loc 1 42 13 is_stmt 0 view .LVU32
 163 0020 074B     		ldr	r3, .L16+4
 164 0022 0122     		movs	r2, #1
 165 0024 1A70     		strb	r2, [r3]
 166 0026 FAE7     		b	.L11
 167              	.L12:
  45:Controller/State/state.c ****       g_led_state = g_led_state >> 1;
 168              		.loc 1 45 7 is_stmt 1 view .LVU33
  45:Controller/State/state.c ****       g_led_state = g_led_state >> 1;
 169              		.loc 1 45 19 is_stmt 0 view .LVU34
 170 0028 044A     		ldr	r2, .L16
 171 002a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 172 002c 5B08     		lsrs	r3, r3, #1
 173 002e 1370     		strb	r3, [r2]
  46:Controller/State/state.c ****       if (0x01 == g_led_state) {
 174              		.loc 1 46 7 is_stmt 1 view .LVU35
  46:Controller/State/state.c ****       if (0x01 == g_led_state) {
 175              		.loc 1 46 10 is_stmt 0 view .LVU36
 176 0030 012B     		cmp	r3, #1
 177 0032 F4D1     		bne	.L11
  47:Controller/State/state.c ****         dir = 0;
 178              		.loc 1 47 9 is_stmt 1 view .LVU37
  47:Controller/State/state.c ****         dir = 0;
 179              		.loc 1 47 13 is_stmt 0 view .LVU38
 180 0034 024B     		ldr	r3, .L16+4
 181 0036 0022     		movs	r2, #0
 182 0038 1A70     		strb	r2, [r3]
 183              	.LBE3:
 184              		.loc 1 70 1 view .LVU39
 185 003a F0E7     		b	.L11
 186              	.L17:
 187              		.align	2
 188              	.L16:
 189 003c 00000000 		.word	g_led_state
 190 0040 00000000 		.word	dir.0
 191              		.cfi_endproc
 192              	.LFE240:
 194              		.section	.bss.dir.0,"aw",%nobits
 197              	dir.0:
 198 0000 00       		.space	1
 199              		.section	.data.g_led_state,"aw"
 202              	g_led_state:
 203 0000 01       		.byte	1
 204              		.text
 205              	.Letext0:
 206              		.file 2 "Controller/State/./state.h"
 207              		.file 3 "C:/Users/Rick/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 208              		.file 4 "C:/Users/Rick/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 209              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 210              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
ARM GAS  C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s 			page 6


DEFINED SYMBOLS
                            *ABS*:00000000 state.c
C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s:21     .text.led_ctl:00000000 $t
C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s:27     .text.led_ctl:00000000 led_ctl
C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s:108    .text.led_ctl:0000005c $d
C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s:113    .text.state_step:00000000 $t
C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s:119    .text.state_step:00000000 state_step
C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s:189    .text.state_step:0000003c $d
C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s:202    .data.g_led_state:00000000 g_led_state
C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s:197    .bss.dir.0:00000000 dir.0
C:\Users\Rick\AppData\Local\Temp\ccTjvjjP.s:198    .bss.dir.0:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
