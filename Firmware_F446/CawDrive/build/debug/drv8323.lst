ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"drv8323.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Controller/Drivers/drv8323/drv8323.c"
  20              		.section	.text._SPI_WRITE,"ax",%progbits
  21              		.align	1
  22              		.global	_SPI_WRITE
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	_SPI_WRITE:
  28              	.LVL0:
  29              	.LFB239:
   1:Controller/Drivers/drv8323/drv8323.c **** #include "drv8323.h"
   2:Controller/Drivers/drv8323/drv8323.c **** 
   3:Controller/Drivers/drv8323/drv8323.c **** #include "gpio.h"
   4:Controller/Drivers/drv8323/drv8323.c **** 
   5:Controller/Drivers/drv8323/drv8323.c **** // 低电平进入睡眠模式，高电平使能，8~40uS低脉冲重置故障
   6:Controller/Drivers/drv8323/drv8323.c **** #define _ENABLE(x) HAL_GPIO_WritePin(DRV_ENABLE_GPIO_Port, DRV_ENABLE_Pin, x)
   7:Controller/Drivers/drv8323/drv8323.c **** // 放大器较准输入，逻辑高时执行自动偏移较准，校准后需要拉低
   8:Controller/Drivers/drv8323/drv8323.c **** #define _CAL(x) HAL_GPIO_WritePin(DRV_CAL_GPIO_Port, DRV_CAL_Pin, x)
   9:Controller/Drivers/drv8323/drv8323.c **** 
  10:Controller/Drivers/drv8323/drv8323.c **** // SPI通讯NSS
  11:Controller/Drivers/drv8323/drv8323.c **** #define _NSS(x) HAL_GPIO_WritePin(DRV_SPI_NSS_GPIO_Port, DRV_SPI_NSS_Pin, x)
  12:Controller/Drivers/drv8323/drv8323.c **** 
  13:Controller/Drivers/drv8323/drv8323.c **** uint16_t _SPI_WRITE(drv8323_t* self, uint16_t data) {
  30              		.loc 1 13 53 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 16
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 13 53 is_stmt 0 view .LVU1
  35 0000 30B5     		push	{r4, r5, lr}
  36              		.cfi_def_cfa_offset 12
  37              		.cfi_offset 4, -12
  38              		.cfi_offset 5, -8
  39              		.cfi_offset 14, -4
  40 0002 87B0     		sub	sp, sp, #28
  41              		.cfi_def_cfa_offset 40
  42 0004 0446     		mov	r4, r0
  43 0006 ADF80E10 		strh	r1, [sp, #14]	@ movhi
  14:Controller/Drivers/drv8323/drv8323.c ****   uint16_t ret;
  44              		.loc 1 14 3 is_stmt 1 view .LVU2
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 2


  15:Controller/Drivers/drv8323/drv8323.c ****   _NSS(0);
  45              		.loc 1 15 3 view .LVU3
  46 000a 0E4D     		ldr	r5, .L3
  47 000c 0022     		movs	r2, #0
  48 000e 0421     		movs	r1, #4
  49              	.LVL1:
  50              		.loc 1 15 3 is_stmt 0 view .LVU4
  51 0010 2846     		mov	r0, r5
  52              	.LVL2:
  53              		.loc 1 15 3 view .LVU5
  54 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
  55              	.LVL3:
  16:Controller/Drivers/drv8323/drv8323.c ****   HAL_Delay(10);
  56              		.loc 1 16 3 is_stmt 1 view .LVU6
  57 0016 0A20     		movs	r0, #10
  58 0018 FFF7FEFF 		bl	HAL_Delay
  59              	.LVL4:
  17:Controller/Drivers/drv8323/drv8323.c ****   HAL_StatusTypeDef sta = HAL_SPI_TransmitReceive(
  60              		.loc 1 17 3 view .LVU7
  61              		.loc 1 17 27 is_stmt 0 view .LVU8
  62 001c 4FF47A73 		mov	r3, #1000
  63 0020 0093     		str	r3, [sp]
  64 0022 0123     		movs	r3, #1
  65 0024 0DF11602 		add	r2, sp, #22
  66 0028 0DF10E01 		add	r1, sp, #14
  67 002c 2068     		ldr	r0, [r4]
  68 002e FFF7FEFF 		bl	HAL_SPI_TransmitReceive
  69              	.LVL5:
  18:Controller/Drivers/drv8323/drv8323.c ****       self->hspi, (uint8_t*)&data, (uint8_t*)&ret, 1, DRV8323_SPI_TIMEOUT);
  19:Controller/Drivers/drv8323/drv8323.c ****   if (HAL_OK != sta) {
  70              		.loc 1 19 3 is_stmt 1 view .LVU9
  20:Controller/Drivers/drv8323/drv8323.c ****     // warn("_SPI_WRITE FAILED: %d", sta);
  21:Controller/Drivers/drv8323/drv8323.c ****   }
  71              		.loc 1 21 3 view .LVU10
  22:Controller/Drivers/drv8323/drv8323.c ****   _NSS(1);
  72              		.loc 1 22 3 view .LVU11
  73 0032 0122     		movs	r2, #1
  74 0034 0421     		movs	r1, #4
  75 0036 2846     		mov	r0, r5
  76 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
  77              	.LVL6:
  23:Controller/Drivers/drv8323/drv8323.c ****   return ret;
  78              		.loc 1 23 3 view .LVU12
  24:Controller/Drivers/drv8323/drv8323.c **** }
  79              		.loc 1 24 1 is_stmt 0 view .LVU13
  80 003c BDF81600 		ldrh	r0, [sp, #22]
  81 0040 07B0     		add	sp, sp, #28
  82              		.cfi_def_cfa_offset 12
  83              		@ sp needed
  84 0042 30BD     		pop	{r4, r5, pc}
  85              	.LVL7:
  86              	.L4:
  87              		.loc 1 24 1 view .LVU14
  88              		.align	2
  89              	.L3:
  90 0044 000C0240 		.word	1073875968
  91              		.cfi_endproc
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 3


  92              	.LFE239:
  94              		.section	.text.drv8323_init,"ax",%progbits
  95              		.align	1
  96              		.global	drv8323_init
  97              		.syntax unified
  98              		.thumb
  99              		.thumb_func
 101              	drv8323_init:
 102              	.LVL8:
 103              	.LFB240:
  25:Controller/Drivers/drv8323/drv8323.c **** 
  26:Controller/Drivers/drv8323/drv8323.c **** int drv8323_init(drv8323_t* self, SPI_HandleTypeDef* spi) {
 104              		.loc 1 26 59 is_stmt 1 view -0
 105              		.cfi_startproc
 106              		@ args = 0, pretend = 0, frame = 0
 107              		@ frame_needed = 0, uses_anonymous_args = 0
 108              		.loc 1 26 59 is_stmt 0 view .LVU16
 109 0000 10B5     		push	{r4, lr}
 110              		.cfi_def_cfa_offset 8
 111              		.cfi_offset 4, -8
 112              		.cfi_offset 14, -4
  27:Controller/Drivers/drv8323/drv8323.c ****   self->hspi = spi;
 113              		.loc 1 27 3 is_stmt 1 view .LVU17
 114              		.loc 1 27 14 is_stmt 0 view .LVU18
 115 0002 0160     		str	r1, [r0]
  28:Controller/Drivers/drv8323/drv8323.c ****   _ENABLE(0);
 116              		.loc 1 28 3 is_stmt 1 view .LVU19
 117 0004 0E4C     		ldr	r4, .L7
 118 0006 0022     		movs	r2, #0
 119 0008 4FF48071 		mov	r1, #256
 120              	.LVL9:
 121              		.loc 1 28 3 is_stmt 0 view .LVU20
 122 000c 2046     		mov	r0, r4
 123              	.LVL10:
 124              		.loc 1 28 3 view .LVU21
 125 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
 126              	.LVL11:
  29:Controller/Drivers/drv8323/drv8323.c ****   _CAL(1);
 127              		.loc 1 29 3 is_stmt 1 view .LVU22
 128 0012 0122     		movs	r2, #1
 129 0014 8021     		movs	r1, #128
 130 0016 2046     		mov	r0, r4
 131 0018 FFF7FEFF 		bl	HAL_GPIO_WritePin
 132              	.LVL12:
  30:Controller/Drivers/drv8323/drv8323.c ****   HAL_Delay(10);
 133              		.loc 1 30 3 view .LVU23
 134 001c 0A20     		movs	r0, #10
 135 001e FFF7FEFF 		bl	HAL_Delay
 136              	.LVL13:
  31:Controller/Drivers/drv8323/drv8323.c ****   _ENABLE(1);
 137              		.loc 1 31 3 view .LVU24
 138 0022 0122     		movs	r2, #1
 139 0024 4FF48071 		mov	r1, #256
 140 0028 2046     		mov	r0, r4
 141 002a FFF7FEFF 		bl	HAL_GPIO_WritePin
 142              	.LVL14:
  32:Controller/Drivers/drv8323/drv8323.c ****   _CAL(0);
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 4


 143              		.loc 1 32 3 view .LVU25
 144 002e 0022     		movs	r2, #0
 145 0030 8021     		movs	r1, #128
 146 0032 2046     		mov	r0, r4
 147 0034 FFF7FEFF 		bl	HAL_GPIO_WritePin
 148              	.LVL15:
  33:Controller/Drivers/drv8323/drv8323.c ****   HAL_Delay(10);
 149              		.loc 1 33 3 view .LVU26
 150 0038 0A20     		movs	r0, #10
 151 003a FFF7FEFF 		bl	HAL_Delay
 152              	.LVL16:
  34:Controller/Drivers/drv8323/drv8323.c **** }
 153              		.loc 1 34 1 is_stmt 0 view .LVU27
 154 003e 10BD     		pop	{r4, pc}
 155              	.L8:
 156              		.align	2
 157              	.L7:
 158 0040 00080240 		.word	1073874944
 159              		.cfi_endproc
 160              	.LFE240:
 162              		.section	.text.drv8323_read_fsr1,"ax",%progbits
 163              		.align	1
 164              		.global	drv8323_read_fsr1
 165              		.syntax unified
 166              		.thumb
 167              		.thumb_func
 169              	drv8323_read_fsr1:
 170              	.LVL17:
 171              	.LFB241:
  35:Controller/Drivers/drv8323/drv8323.c **** 
  36:Controller/Drivers/drv8323/drv8323.c **** uint16_t drv8323_read_fsr1(drv8323_t* self) {
 172              		.loc 1 36 45 is_stmt 1 view -0
 173              		.cfi_startproc
 174              		@ args = 0, pretend = 0, frame = 0
 175              		@ frame_needed = 0, uses_anonymous_args = 0
 176              		.loc 1 36 45 is_stmt 0 view .LVU29
 177 0000 08B5     		push	{r3, lr}
 178              		.cfi_def_cfa_offset 8
 179              		.cfi_offset 3, -8
 180              		.cfi_offset 14, -4
  37:Controller/Drivers/drv8323/drv8323.c ****   uint16_t val = (1 << 15) | (FSR1 << 11);
 181              		.loc 1 37 3 is_stmt 1 view .LVU30
 182              	.LVL18:
  38:Controller/Drivers/drv8323/drv8323.c ****   return _SPI_WRITE(self, val);
 183              		.loc 1 38 3 view .LVU31
 184              		.loc 1 38 10 is_stmt 0 view .LVU32
 185 0002 4FF40041 		mov	r1, #32768
 186 0006 FFF7FEFF 		bl	_SPI_WRITE
 187              	.LVL19:
  39:Controller/Drivers/drv8323/drv8323.c **** }
 188              		.loc 1 39 1 view .LVU33
 189 000a 08BD     		pop	{r3, pc}
 190              		.cfi_endproc
 191              	.LFE241:
 193              		.section	.text.drv8323_read_fsr2,"ax",%progbits
 194              		.align	1
 195              		.global	drv8323_read_fsr2
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 5


 196              		.syntax unified
 197              		.thumb
 198              		.thumb_func
 200              	drv8323_read_fsr2:
 201              	.LVL20:
 202              	.LFB242:
  40:Controller/Drivers/drv8323/drv8323.c **** 
  41:Controller/Drivers/drv8323/drv8323.c **** uint16_t drv8323_read_fsr2(drv8323_t* self) {
 203              		.loc 1 41 45 is_stmt 1 view -0
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 0
 206              		@ frame_needed = 0, uses_anonymous_args = 0
 207              		.loc 1 41 45 is_stmt 0 view .LVU35
 208 0000 08B5     		push	{r3, lr}
 209              		.cfi_def_cfa_offset 8
 210              		.cfi_offset 3, -8
 211              		.cfi_offset 14, -4
  42:Controller/Drivers/drv8323/drv8323.c ****   uint16_t val = (1 << 15) | (FSR2 << 11);
 212              		.loc 1 42 3 is_stmt 1 view .LVU36
 213              	.LVL21:
  43:Controller/Drivers/drv8323/drv8323.c ****   return _SPI_WRITE(self, val);
 214              		.loc 1 43 3 view .LVU37
 215              		.loc 1 43 10 is_stmt 0 view .LVU38
 216 0002 4FF40841 		mov	r1, #34816
 217 0006 FFF7FEFF 		bl	_SPI_WRITE
 218              	.LVL22:
  44:Controller/Drivers/drv8323/drv8323.c **** }
 219              		.loc 1 44 1 view .LVU39
 220 000a 08BD     		pop	{r3, pc}
 221              		.cfi_endproc
 222              	.LFE242:
 224              		.section	.text.drv8323_read_register,"ax",%progbits
 225              		.align	1
 226              		.global	drv8323_read_register
 227              		.syntax unified
 228              		.thumb
 229              		.thumb_func
 231              	drv8323_read_register:
 232              	.LVL23:
 233              	.LFB243:
  45:Controller/Drivers/drv8323/drv8323.c **** 
  46:Controller/Drivers/drv8323/drv8323.c **** uint16_t drv8323_read_register(drv8323_t* self, uint16_t reg) {
 234              		.loc 1 46 63 is_stmt 1 view -0
 235              		.cfi_startproc
 236              		@ args = 0, pretend = 0, frame = 0
 237              		@ frame_needed = 0, uses_anonymous_args = 0
 238              		.loc 1 46 63 is_stmt 0 view .LVU41
 239 0000 08B5     		push	{r3, lr}
 240              		.cfi_def_cfa_offset 8
 241              		.cfi_offset 3, -8
 242              		.cfi_offset 14, -4
  47:Controller/Drivers/drv8323/drv8323.c ****   uint16_t ret = _SPI_WRITE(self, (1 << 15) | (reg << 11));
 243              		.loc 1 47 3 is_stmt 1 view .LVU42
 244              		.loc 1 47 45 is_stmt 0 view .LVU43
 245 0002 6FEA0171 		mvn	r1, r1, lsl #28
 246              	.LVL24:
 247              		.loc 1 47 45 view .LVU44
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 6


 248 0006 6FEA5141 		mvn	r1, r1, lsr #17
 249              		.loc 1 47 18 view .LVU45
 250 000a 89B2     		uxth	r1, r1
 251 000c FFF7FEFF 		bl	_SPI_WRITE
 252              	.LVL25:
  48:Controller/Drivers/drv8323/drv8323.c ****   return ret;
 253              		.loc 1 48 3 is_stmt 1 view .LVU46
  49:Controller/Drivers/drv8323/drv8323.c **** }
 254              		.loc 1 49 1 is_stmt 0 view .LVU47
 255 0010 08BD     		pop	{r3, pc}
 256              		.cfi_endproc
 257              	.LFE243:
 259              		.section	.text.drv8323_write_register,"ax",%progbits
 260              		.align	1
 261              		.global	drv8323_write_register
 262              		.syntax unified
 263              		.thumb
 264              		.thumb_func
 266              	drv8323_write_register:
 267              	.LVL26:
 268              	.LFB244:
  50:Controller/Drivers/drv8323/drv8323.c **** 
  51:Controller/Drivers/drv8323/drv8323.c **** void drv8323_write_register(drv8323_t* self, uint16_t reg, uint16_t val) {
 269              		.loc 1 51 74 is_stmt 1 view -0
 270              		.cfi_startproc
 271              		@ args = 0, pretend = 0, frame = 0
 272              		@ frame_needed = 0, uses_anonymous_args = 0
 273              		.loc 1 51 74 is_stmt 0 view .LVU49
 274 0000 08B5     		push	{r3, lr}
 275              		.cfi_def_cfa_offset 8
 276              		.cfi_offset 3, -8
 277              		.cfi_offset 14, -4
  52:Controller/Drivers/drv8323/drv8323.c ****   _SPI_WRITE(self, (reg << 11) | val);
 278              		.loc 1 52 3 is_stmt 1 view .LVU50
 279 0002 42EAC121 		orr	r1, r2, r1, lsl #11
 280              	.LVL27:
 281              		.loc 1 52 3 is_stmt 0 view .LVU51
 282 0006 89B2     		uxth	r1, r1
 283 0008 FFF7FEFF 		bl	_SPI_WRITE
 284              	.LVL28:
  53:Controller/Drivers/drv8323/drv8323.c **** }
 285              		.loc 1 53 1 view .LVU52
 286 000c 08BD     		pop	{r3, pc}
 287              		.cfi_endproc
 288              	.LFE244:
 290              		.section	.text.drv8323_write_dcr,"ax",%progbits
 291              		.align	1
 292              		.global	drv8323_write_dcr
 293              		.syntax unified
 294              		.thumb
 295              		.thumb_func
 297              	drv8323_write_dcr:
 298              	.LVL29:
 299              	.LFB245:
  54:Controller/Drivers/drv8323/drv8323.c **** 
  55:Controller/Drivers/drv8323/drv8323.c **** void drv8323_write_dcr(drv8323_t* self, uint16_t dis_cpuv, uint16_t dis_gdf,
  56:Controller/Drivers/drv8323/drv8323.c ****                        uint16_t otw_rep, uint16_t pwm_mode, uint16_t pwm_com,
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 7


  57:Controller/Drivers/drv8323/drv8323.c ****                        uint16_t pwm_dir, uint16_t coast, uint16_t brake,
  58:Controller/Drivers/drv8323/drv8323.c ****                        uint16_t clr_flt) {
 300              		.loc 1 58 42 is_stmt 1 view -0
 301              		.cfi_startproc
 302              		@ args = 24, pretend = 0, frame = 0
 303              		@ frame_needed = 0, uses_anonymous_args = 0
 304              		.loc 1 58 42 is_stmt 0 view .LVU54
 305 0000 08B5     		push	{r3, lr}
 306              		.cfi_def_cfa_offset 8
 307              		.cfi_offset 3, -8
 308              		.cfi_offset 14, -4
  59:Controller/Drivers/drv8323/drv8323.c ****   uint16_t val = (DCR << 11) | (dis_cpuv << 9) | (dis_gdf << 8) |
 309              		.loc 1 59 3 is_stmt 1 view .LVU55
 310              		.loc 1 59 30 is_stmt 0 view .LVU56
 311 0002 4902     		lsls	r1, r1, #9
 312              	.LVL30:
 313              		.loc 1 59 30 view .LVU57
 314 0004 41F48051 		orr	r1, r1, #4096
 315 0008 09B2     		sxth	r1, r1
 316              		.loc 1 59 48 view .LVU58
 317 000a 41EA0221 		orr	r1, r1, r2, lsl #8
 318 000e 09B2     		sxth	r1, r1
 319              		.loc 1 59 65 view .LVU59
 320 0010 41EAC313 		orr	r3, r1, r3, lsl #7
 321              	.LVL31:
 322              		.loc 1 59 65 view .LVU60
 323 0014 1BB2     		sxth	r3, r3
  60:Controller/Drivers/drv8323/drv8323.c ****                  (otw_rep << 7) | (pwm_mode << 5) | (pwm_com << 4) |
 324              		.loc 1 60 33 view .LVU61
 325 0016 BDF80820 		ldrh	r2, [sp, #8]
 326              	.LVL32:
 327              		.loc 1 60 33 view .LVU62
 328 001a 43EA4213 		orr	r3, r3, r2, lsl #5
 329 001e 1BB2     		sxth	r3, r3
 330              		.loc 1 60 51 view .LVU63
 331 0020 BDF80C20 		ldrh	r2, [sp, #12]
 332 0024 43EA0213 		orr	r3, r3, r2, lsl #4
 333 0028 1BB2     		sxth	r3, r3
 334              		.loc 1 60 68 view .LVU64
 335 002a BDF81020 		ldrh	r2, [sp, #16]
 336 002e 43EAC203 		orr	r3, r3, r2, lsl #3
 337 0032 1BB2     		sxth	r3, r3
  61:Controller/Drivers/drv8323/drv8323.c ****                  (pwm_dir << 3) | (coast << 2) | (brake << 1) | clr_flt;
 338              		.loc 1 61 33 view .LVU65
 339 0034 BDF81420 		ldrh	r2, [sp, #20]
 340 0038 43EA8203 		orr	r3, r3, r2, lsl #2
 341 003c 1BB2     		sxth	r3, r3
 342              		.loc 1 61 48 view .LVU66
 343 003e BDF81820 		ldrh	r2, [sp, #24]
 344 0042 43EA4203 		orr	r3, r3, r2, lsl #1
 345 0046 1BB2     		sxth	r3, r3
  59:Controller/Drivers/drv8323/drv8323.c ****   uint16_t val = (DCR << 11) | (dis_cpuv << 9) | (dis_gdf << 8) |
 346              		.loc 1 59 12 view .LVU67
 347 0048 BDF81C10 		ldrh	r1, [sp, #28]
 348 004c 1943     		orrs	r1, r1, r3
 349              	.LVL33:
  62:Controller/Drivers/drv8323/drv8323.c ****   _SPI_WRITE(self, val);
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 8


 350              		.loc 1 62 3 is_stmt 1 view .LVU68
 351 004e 89B2     		uxth	r1, r1
 352              		.loc 1 62 3 is_stmt 0 view .LVU69
 353 0050 FFF7FEFF 		bl	_SPI_WRITE
 354              	.LVL34:
  63:Controller/Drivers/drv8323/drv8323.c **** }
 355              		.loc 1 63 1 view .LVU70
 356 0054 08BD     		pop	{r3, pc}
 357              		.loc 1 63 1 view .LVU71
 358              		.cfi_endproc
 359              	.LFE245:
 361              		.section	.text.drv8323_write_hsr,"ax",%progbits
 362              		.align	1
 363              		.global	drv8323_write_hsr
 364              		.syntax unified
 365              		.thumb
 366              		.thumb_func
 368              	drv8323_write_hsr:
 369              	.LVL35:
 370              	.LFB246:
  64:Controller/Drivers/drv8323/drv8323.c **** 
  65:Controller/Drivers/drv8323/drv8323.c **** void drv8323_write_hsr(drv8323_t* self, uint16_t lock, uint16_t idrivep_hs,
  66:Controller/Drivers/drv8323/drv8323.c ****                        uint16_t idriven_hs) {
 371              		.loc 1 66 45 is_stmt 1 view -0
 372              		.cfi_startproc
 373              		@ args = 0, pretend = 0, frame = 0
 374              		@ frame_needed = 0, uses_anonymous_args = 0
 375              		.loc 1 66 45 is_stmt 0 view .LVU73
 376 0000 08B5     		push	{r3, lr}
 377              		.cfi_def_cfa_offset 8
 378              		.cfi_offset 3, -8
 379              		.cfi_offset 14, -4
  67:Controller/Drivers/drv8323/drv8323.c ****   uint16_t val = (HSR << 11) | (lock << 8) | (idrivep_hs << 4) | idriven_hs;
 380              		.loc 1 67 3 is_stmt 1 view .LVU74
 381              		.loc 1 67 30 is_stmt 0 view .LVU75
 382 0002 4FEA012C 		lsl	ip, r1, #8
 383 0006 4CF4C05C 		orr	ip, ip, #6144
 384 000a 0FFA8CFC 		sxth	ip, ip
 385              		.loc 1 67 44 view .LVU76
 386 000e 4CEA021C 		orr	ip, ip, r2, lsl #4
 387 0012 0FFA8CFC 		sxth	ip, ip
 388              		.loc 1 67 12 view .LVU77
 389 0016 43EA0C03 		orr	r3, r3, ip
 390              	.LVL36:
  68:Controller/Drivers/drv8323/drv8323.c ****   _SPI_WRITE(self, val);
 391              		.loc 1 68 3 is_stmt 1 view .LVU78
 392 001a 99B2     		uxth	r1, r3
 393              	.LVL37:
 394              		.loc 1 68 3 is_stmt 0 view .LVU79
 395 001c FFF7FEFF 		bl	_SPI_WRITE
 396              	.LVL38:
  69:Controller/Drivers/drv8323/drv8323.c **** }
 397              		.loc 1 69 1 view .LVU80
 398 0020 08BD     		pop	{r3, pc}
 399              		.cfi_endproc
 400              	.LFE246:
 402              		.section	.text.drv8323_write_lsr,"ax",%progbits
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 9


 403              		.align	1
 404              		.global	drv8323_write_lsr
 405              		.syntax unified
 406              		.thumb
 407              		.thumb_func
 409              	drv8323_write_lsr:
 410              	.LVL39:
 411              	.LFB247:
  70:Controller/Drivers/drv8323/drv8323.c **** 
  71:Controller/Drivers/drv8323/drv8323.c **** void drv8323_write_lsr(drv8323_t* self, uint16_t cbc, uint16_t tdrive,
  72:Controller/Drivers/drv8323/drv8323.c ****                        uint16_t idrivep_ls, uint16_t idriven_ls) {
 412              		.loc 1 72 66 is_stmt 1 view -0
 413              		.cfi_startproc
 414              		@ args = 4, pretend = 0, frame = 0
 415              		@ frame_needed = 0, uses_anonymous_args = 0
 416              		.loc 1 72 66 is_stmt 0 view .LVU82
 417 0000 08B5     		push	{r3, lr}
 418              		.cfi_def_cfa_offset 8
 419              		.cfi_offset 3, -8
 420              		.cfi_offset 14, -4
  73:Controller/Drivers/drv8323/drv8323.c ****   uint16_t val = (LSR << 11) | (cbc << 10) | (tdrive << 8) | (idrivep_ls << 4) |
 421              		.loc 1 73 3 is_stmt 1 view .LVU83
 422              		.loc 1 73 30 is_stmt 0 view .LVU84
 423 0002 8902     		lsls	r1, r1, #10
 424              	.LVL40:
 425              		.loc 1 73 30 view .LVU85
 426 0004 41F40051 		orr	r1, r1, #8192
 427 0008 09B2     		sxth	r1, r1
 428              		.loc 1 73 44 view .LVU86
 429 000a 41EA0221 		orr	r1, r1, r2, lsl #8
 430 000e 09B2     		sxth	r1, r1
 431              		.loc 1 73 60 view .LVU87
 432 0010 41EA0311 		orr	r1, r1, r3, lsl #4
 433 0014 09B2     		sxth	r1, r1
 434              		.loc 1 73 12 view .LVU88
 435 0016 BDF80830 		ldrh	r3, [sp, #8]
 436              	.LVL41:
 437              		.loc 1 73 12 view .LVU89
 438 001a 1943     		orrs	r1, r1, r3
 439              	.LVL42:
  74:Controller/Drivers/drv8323/drv8323.c ****                  idriven_ls;
  75:Controller/Drivers/drv8323/drv8323.c ****   _SPI_WRITE(self, val);
 440              		.loc 1 75 3 is_stmt 1 view .LVU90
 441 001c 89B2     		uxth	r1, r1
 442              		.loc 1 75 3 is_stmt 0 view .LVU91
 443 001e FFF7FEFF 		bl	_SPI_WRITE
 444              	.LVL43:
  76:Controller/Drivers/drv8323/drv8323.c **** }
 445              		.loc 1 76 1 view .LVU92
 446 0022 08BD     		pop	{r3, pc}
 447              		.loc 1 76 1 view .LVU93
 448              		.cfi_endproc
 449              	.LFE247:
 451              		.section	.text.drv8323_write_ocpcr,"ax",%progbits
 452              		.align	1
 453              		.global	drv8323_write_ocpcr
 454              		.syntax unified
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 10


 455              		.thumb
 456              		.thumb_func
 458              	drv8323_write_ocpcr:
 459              	.LVL44:
 460              	.LFB248:
  77:Controller/Drivers/drv8323/drv8323.c **** 
  78:Controller/Drivers/drv8323/drv8323.c **** void drv8323_write_ocpcr(drv8323_t* self, uint16_t tretry, uint16_t dead_time,
  79:Controller/Drivers/drv8323/drv8323.c ****                          uint16_t ocp_mode, uint16_t ocp_deg,
  80:Controller/Drivers/drv8323/drv8323.c ****                          uint16_t vds_lvl) {
 461              		.loc 1 80 44 is_stmt 1 view -0
 462              		.cfi_startproc
 463              		@ args = 8, pretend = 0, frame = 0
 464              		@ frame_needed = 0, uses_anonymous_args = 0
 465              		.loc 1 80 44 is_stmt 0 view .LVU95
 466 0000 08B5     		push	{r3, lr}
 467              		.cfi_def_cfa_offset 8
 468              		.cfi_offset 3, -8
 469              		.cfi_offset 14, -4
  81:Controller/Drivers/drv8323/drv8323.c ****   uint16_t val = (OCPCR << 11) | (tretry << 10) | (dead_time << 8) |
 470              		.loc 1 81 3 is_stmt 1 view .LVU96
 471              		.loc 1 81 32 is_stmt 0 view .LVU97
 472 0002 8902     		lsls	r1, r1, #10
 473              	.LVL45:
 474              		.loc 1 81 32 view .LVU98
 475 0004 41F42051 		orr	r1, r1, #10240
 476 0008 09B2     		sxth	r1, r1
 477              		.loc 1 81 49 view .LVU99
 478 000a 41EA0221 		orr	r1, r1, r2, lsl #8
 479 000e 09B2     		sxth	r1, r1
 480              		.loc 1 81 68 view .LVU100
 481 0010 41EA8313 		orr	r3, r1, r3, lsl #6
 482              	.LVL46:
 483              		.loc 1 81 68 view .LVU101
 484 0014 1BB2     		sxth	r3, r3
  82:Controller/Drivers/drv8323/drv8323.c ****                  (ocp_mode << 6) | (ocp_deg << 4) | vds_lvl;
 485              		.loc 1 82 34 view .LVU102
 486 0016 BDF80820 		ldrh	r2, [sp, #8]
 487              	.LVL47:
 488              		.loc 1 82 34 view .LVU103
 489 001a 43EA0213 		orr	r3, r3, r2, lsl #4
 490 001e 1BB2     		sxth	r3, r3
  81:Controller/Drivers/drv8323/drv8323.c ****   uint16_t val = (OCPCR << 11) | (tretry << 10) | (dead_time << 8) |
 491              		.loc 1 81 12 view .LVU104
 492 0020 BDF80C10 		ldrh	r1, [sp, #12]
 493 0024 1943     		orrs	r1, r1, r3
 494              	.LVL48:
  83:Controller/Drivers/drv8323/drv8323.c ****   _SPI_WRITE(self, val);
 495              		.loc 1 83 3 is_stmt 1 view .LVU105
 496 0026 89B2     		uxth	r1, r1
 497              		.loc 1 83 3 is_stmt 0 view .LVU106
 498 0028 FFF7FEFF 		bl	_SPI_WRITE
 499              	.LVL49:
  84:Controller/Drivers/drv8323/drv8323.c **** }
 500              		.loc 1 84 1 view .LVU107
 501 002c 08BD     		pop	{r3, pc}
 502              		.loc 1 84 1 view .LVU108
 503              		.cfi_endproc
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 11


 504              	.LFE248:
 506              		.section	.text.drv8323_write_csacr,"ax",%progbits
 507              		.align	1
 508              		.global	drv8323_write_csacr
 509              		.syntax unified
 510              		.thumb
 511              		.thumb_func
 513              	drv8323_write_csacr:
 514              	.LVL50:
 515              	.LFB249:
  85:Controller/Drivers/drv8323/drv8323.c **** 
  86:Controller/Drivers/drv8323/drv8323.c **** void drv8323_write_csacr(drv8323_t* self, uint16_t csa_fet, uint16_t vref_div,
  87:Controller/Drivers/drv8323/drv8323.c ****                          uint16_t ls_ref, uint16_t csa_gain, uint16_t dis_sen,
  88:Controller/Drivers/drv8323/drv8323.c ****                          uint16_t csa_cal_a, uint16_t csa_cal_b,
  89:Controller/Drivers/drv8323/drv8323.c ****                          uint16_t csa_cal_c, uint16_t sen_lvl) {
 516              		.loc 1 89 64 is_stmt 1 view -0
 517              		.cfi_startproc
 518              		@ args = 24, pretend = 0, frame = 0
 519              		@ frame_needed = 0, uses_anonymous_args = 0
 520              		.loc 1 89 64 is_stmt 0 view .LVU110
 521 0000 08B5     		push	{r3, lr}
 522              		.cfi_def_cfa_offset 8
 523              		.cfi_offset 3, -8
 524              		.cfi_offset 14, -4
  90:Controller/Drivers/drv8323/drv8323.c ****   uint16_t val = (CSACR << 11) | (csa_fet << 10) | (vref_div << 9) |
 525              		.loc 1 90 3 is_stmt 1 view .LVU111
 526              		.loc 1 90 32 is_stmt 0 view .LVU112
 527 0002 8902     		lsls	r1, r1, #10
 528              	.LVL51:
 529              		.loc 1 90 32 view .LVU113
 530 0004 41F44051 		orr	r1, r1, #12288
 531 0008 09B2     		sxth	r1, r1
 532              		.loc 1 90 50 view .LVU114
 533 000a 41EA4221 		orr	r1, r1, r2, lsl #9
 534 000e 09B2     		sxth	r1, r1
 535              		.loc 1 90 68 view .LVU115
 536 0010 41EA0323 		orr	r3, r1, r3, lsl #8
 537              	.LVL52:
 538              		.loc 1 90 68 view .LVU116
 539 0014 1BB2     		sxth	r3, r3
  91:Controller/Drivers/drv8323/drv8323.c ****                  (ls_ref << 8) | (csa_gain << 6) | (dis_sen << 5) |
 540              		.loc 1 91 32 view .LVU117
 541 0016 BDF80820 		ldrh	r2, [sp, #8]
 542              	.LVL53:
 543              		.loc 1 91 32 view .LVU118
 544 001a 43EA8213 		orr	r3, r3, r2, lsl #6
 545 001e 1BB2     		sxth	r3, r3
 546              		.loc 1 91 50 view .LVU119
 547 0020 BDF80C20 		ldrh	r2, [sp, #12]
 548 0024 43EA4213 		orr	r3, r3, r2, lsl #5
 549 0028 1BB2     		sxth	r3, r3
 550              		.loc 1 91 67 view .LVU120
 551 002a BDF81020 		ldrh	r2, [sp, #16]
 552 002e 43EA0213 		orr	r3, r3, r2, lsl #4
 553 0032 1BB2     		sxth	r3, r3
  92:Controller/Drivers/drv8323/drv8323.c ****                  (csa_cal_a << 4) | (csa_cal_b << 3) | (csa_cal_c << 2) |
 554              		.loc 1 92 35 view .LVU121
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 12


 555 0034 BDF81420 		ldrh	r2, [sp, #20]
 556 0038 43EAC203 		orr	r3, r3, r2, lsl #3
 557 003c 1BB2     		sxth	r3, r3
 558              		.loc 1 92 54 view .LVU122
 559 003e BDF81820 		ldrh	r2, [sp, #24]
 560 0042 43EA8203 		orr	r3, r3, r2, lsl #2
 561 0046 1BB2     		sxth	r3, r3
  90:Controller/Drivers/drv8323/drv8323.c ****   uint16_t val = (CSACR << 11) | (csa_fet << 10) | (vref_div << 9) |
 562              		.loc 1 90 12 view .LVU123
 563 0048 BDF81C10 		ldrh	r1, [sp, #28]
 564 004c 1943     		orrs	r1, r1, r3
 565              	.LVL54:
  93:Controller/Drivers/drv8323/drv8323.c ****                  sen_lvl;
  94:Controller/Drivers/drv8323/drv8323.c ****   _SPI_WRITE(self, val);
 566              		.loc 1 94 3 is_stmt 1 view .LVU124
 567 004e 89B2     		uxth	r1, r1
 568              		.loc 1 94 3 is_stmt 0 view .LVU125
 569 0050 FFF7FEFF 		bl	_SPI_WRITE
 570              	.LVL55:
  95:Controller/Drivers/drv8323/drv8323.c **** }
 571              		.loc 1 95 1 view .LVU126
 572 0054 08BD     		pop	{r3, pc}
 573              		.loc 1 95 1 view .LVU127
 574              		.cfi_endproc
 575              	.LFE249:
 577              		.section	.text.drv8323_enable_gd,"ax",%progbits
 578              		.align	1
 579              		.global	drv8323_enable_gd
 580              		.syntax unified
 581              		.thumb
 582              		.thumb_func
 584              	drv8323_enable_gd:
 585              	.LVL56:
 586              	.LFB250:
  96:Controller/Drivers/drv8323/drv8323.c **** 
  97:Controller/Drivers/drv8323/drv8323.c **** void drv8323_enable_gd(drv8323_t* self) {
 587              		.loc 1 97 41 is_stmt 1 view -0
 588              		.cfi_startproc
 589              		@ args = 0, pretend = 0, frame = 0
 590              		@ frame_needed = 0, uses_anonymous_args = 0
 591              		.loc 1 97 41 is_stmt 0 view .LVU129
 592 0000 10B5     		push	{r4, lr}
 593              		.cfi_def_cfa_offset 8
 594              		.cfi_offset 4, -8
 595              		.cfi_offset 14, -4
 596 0002 0446     		mov	r4, r0
  98:Controller/Drivers/drv8323/drv8323.c ****   uint16_t val = (drv8323_read_register(self, DCR)) & (~(0x1 << 2));
 597              		.loc 1 98 3 is_stmt 1 view .LVU130
 598              		.loc 1 98 19 is_stmt 0 view .LVU131
 599 0004 0221     		movs	r1, #2
 600 0006 FFF7FEFF 		bl	drv8323_read_register
 601              	.LVL57:
 602              		.loc 1 98 12 discriminator 1 view .LVU132
 603 000a 20F00402 		bic	r2, r0, #4
 604 000e 92B2     		uxth	r2, r2
 605              	.LVL58:
  99:Controller/Drivers/drv8323/drv8323.c ****   drv8323_write_register(self, DCR, val);
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 13


 606              		.loc 1 99 3 is_stmt 1 view .LVU133
 607 0010 0221     		movs	r1, #2
 608 0012 2046     		mov	r0, r4
 609 0014 FFF7FEFF 		bl	drv8323_write_register
 610              	.LVL59:
 100:Controller/Drivers/drv8323/drv8323.c **** }
 611              		.loc 1 100 1 is_stmt 0 view .LVU134
 612 0018 10BD     		pop	{r4, pc}
 613              		.loc 1 100 1 view .LVU135
 614              		.cfi_endproc
 615              	.LFE250:
 617              		.section	.text.drv8323_disable_gd,"ax",%progbits
 618              		.align	1
 619              		.global	drv8323_disable_gd
 620              		.syntax unified
 621              		.thumb
 622              		.thumb_func
 624              	drv8323_disable_gd:
 625              	.LVL60:
 626              	.LFB251:
 101:Controller/Drivers/drv8323/drv8323.c **** 
 102:Controller/Drivers/drv8323/drv8323.c **** void drv8323_disable_gd(drv8323_t* self) {
 627              		.loc 1 102 42 is_stmt 1 view -0
 628              		.cfi_startproc
 629              		@ args = 0, pretend = 0, frame = 0
 630              		@ frame_needed = 0, uses_anonymous_args = 0
 631              		.loc 1 102 42 is_stmt 0 view .LVU137
 632 0000 10B5     		push	{r4, lr}
 633              		.cfi_def_cfa_offset 8
 634              		.cfi_offset 4, -8
 635              		.cfi_offset 14, -4
 636 0002 0446     		mov	r4, r0
 103:Controller/Drivers/drv8323/drv8323.c ****   uint16_t val = (drv8323_read_register(self, DCR)) | (0x1 << 2);
 637              		.loc 1 103 3 is_stmt 1 view .LVU138
 638              		.loc 1 103 19 is_stmt 0 view .LVU139
 639 0004 0221     		movs	r1, #2
 640 0006 FFF7FEFF 		bl	drv8323_read_register
 641              	.LVL61:
 642              		.loc 1 103 12 discriminator 1 view .LVU140
 643 000a 40F00402 		orr	r2, r0, #4
 644              	.LVL62:
 104:Controller/Drivers/drv8323/drv8323.c ****   drv8323_write_register(self, DCR, val);
 645              		.loc 1 104 3 is_stmt 1 view .LVU141
 646 000e 92B2     		uxth	r2, r2
 647              		.loc 1 104 3 is_stmt 0 view .LVU142
 648 0010 0221     		movs	r1, #2
 649 0012 2046     		mov	r0, r4
 650 0014 FFF7FEFF 		bl	drv8323_write_register
 651              	.LVL63:
 105:Controller/Drivers/drv8323/drv8323.c **** }
 652              		.loc 1 105 1 view .LVU143
 653 0018 10BD     		pop	{r4, pc}
 654              		.loc 1 105 1 view .LVU144
 655              		.cfi_endproc
 656              	.LFE251:
 658              		.section	.text.drv8323_calibrate,"ax",%progbits
 659              		.align	1
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 14


 660              		.global	drv8323_calibrate
 661              		.syntax unified
 662              		.thumb
 663              		.thumb_func
 665              	drv8323_calibrate:
 666              	.LVL64:
 667              	.LFB252:
 106:Controller/Drivers/drv8323/drv8323.c **** 
 107:Controller/Drivers/drv8323/drv8323.c **** void drv8323_calibrate(drv8323_t* self) {
 668              		.loc 1 107 41 is_stmt 1 view -0
 669              		.cfi_startproc
 670              		@ args = 0, pretend = 0, frame = 0
 671              		@ frame_needed = 0, uses_anonymous_args = 0
 672              		.loc 1 107 41 is_stmt 0 view .LVU146
 673 0000 08B5     		push	{r3, lr}
 674              		.cfi_def_cfa_offset 8
 675              		.cfi_offset 3, -8
 676              		.cfi_offset 14, -4
 108:Controller/Drivers/drv8323/drv8323.c ****   uint16_t val = 0x1 << 4 + 0x1 << 3 + 0x1 << 2;
 677              		.loc 1 108 3 is_stmt 1 view .LVU147
 678              	.LVL65:
 109:Controller/Drivers/drv8323/drv8323.c ****   drv8323_write_register(self, CSACR, val);
 679              		.loc 1 109 3 view .LVU148
 680 0002 4FF40062 		mov	r2, #2048
 681 0006 0621     		movs	r1, #6
 682 0008 FFF7FEFF 		bl	drv8323_write_register
 683              	.LVL66:
 110:Controller/Drivers/drv8323/drv8323.c **** }
 684              		.loc 1 110 1 is_stmt 0 view .LVU149
 685 000c 08BD     		pop	{r3, pc}
 686              		.cfi_endproc
 687              	.LFE252:
 689              		.section	.text.drv8323_print_faults,"ax",%progbits
 690              		.align	1
 691              		.global	drv8323_print_faults
 692              		.syntax unified
 693              		.thumb
 694              		.thumb_func
 696              	drv8323_print_faults:
 697              	.LVL67:
 698              	.LFB253:
 111:Controller/Drivers/drv8323/drv8323.c **** 
 112:Controller/Drivers/drv8323/drv8323.c **** void drv8323_print_faults(drv8323_t* self) {
 699              		.loc 1 112 44 is_stmt 1 view -0
 700              		.cfi_startproc
 701              		@ args = 0, pretend = 0, frame = 0
 702              		@ frame_needed = 0, uses_anonymous_args = 0
 703              		@ link register save eliminated.
 113:Controller/Drivers/drv8323/drv8323.c ****   // uint16_t val1 = drv8323_read_fsr1(self);
 114:Controller/Drivers/drv8323/drv8323.c ****   // _printf("fsr1:%x", val1);
 115:Controller/Drivers/drv8323/drv8323.c ****   // HAL_Delay(10);
 116:Controller/Drivers/drv8323/drv8323.c ****   // uint16_t val2 = drv8323_read_fsr2(self);
 117:Controller/Drivers/drv8323/drv8323.c ****   // _printf("fsr2:%x", val2);
 118:Controller/Drivers/drv8323/drv8323.c ****   // HAL_Delay(10);
 119:Controller/Drivers/drv8323/drv8323.c **** 
 120:Controller/Drivers/drv8323/drv8323.c ****   // if (val1 & (1 << 10)) {
 121:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("FAULT");
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 15


 122:Controller/Drivers/drv8323/drv8323.c ****   // }
 123:Controller/Drivers/drv8323/drv8323.c **** 
 124:Controller/Drivers/drv8323/drv8323.c ****   // if (val1 & (1 << 9)) {
 125:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("VDS_OCP");
 126:Controller/Drivers/drv8323/drv8323.c ****   // }
 127:Controller/Drivers/drv8323/drv8323.c ****   // if (val1 & (1 << 8)) {
 128:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("GDF");
 129:Controller/Drivers/drv8323/drv8323.c ****   // }
 130:Controller/Drivers/drv8323/drv8323.c ****   // if (val1 & (1 << 7)) {
 131:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("UVLO");
 132:Controller/Drivers/drv8323/drv8323.c ****   // }
 133:Controller/Drivers/drv8323/drv8323.c ****   // if (val1 & (1 << 6)) {
 134:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("OTSD");
 135:Controller/Drivers/drv8323/drv8323.c ****   // }
 136:Controller/Drivers/drv8323/drv8323.c ****   // if (val1 & (1 << 5)) {
 137:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("VDS_HA");
 138:Controller/Drivers/drv8323/drv8323.c ****   // }
 139:Controller/Drivers/drv8323/drv8323.c ****   // if (val1 & (1 << 4)) {
 140:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("VDS_LA");
 141:Controller/Drivers/drv8323/drv8323.c ****   // }
 142:Controller/Drivers/drv8323/drv8323.c ****   // if (val1 & (1 << 3)) {
 143:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("VDS_HB");
 144:Controller/Drivers/drv8323/drv8323.c ****   // }
 145:Controller/Drivers/drv8323/drv8323.c ****   // if (val1 & (1 << 2)) {
 146:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("VDS_LB");
 147:Controller/Drivers/drv8323/drv8323.c ****   // }
 148:Controller/Drivers/drv8323/drv8323.c ****   // if (val1 & (1 << 1)) {
 149:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("VDS_HC");
 150:Controller/Drivers/drv8323/drv8323.c ****   // }
 151:Controller/Drivers/drv8323/drv8323.c ****   // if (val1 & (1)) {
 152:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("VDS_LC");
 153:Controller/Drivers/drv8323/drv8323.c ****   // }
 154:Controller/Drivers/drv8323/drv8323.c **** 
 155:Controller/Drivers/drv8323/drv8323.c ****   // if (val2 & (1 << 10)) {
 156:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("SA_OC");
 157:Controller/Drivers/drv8323/drv8323.c ****   // }
 158:Controller/Drivers/drv8323/drv8323.c ****   // if (val2 & (1 << 9)) {
 159:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("SB_OC");
 160:Controller/Drivers/drv8323/drv8323.c ****   // }
 161:Controller/Drivers/drv8323/drv8323.c ****   // if (val2 & (1 << 8)) {
 162:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("SC_OC");
 163:Controller/Drivers/drv8323/drv8323.c ****   // }
 164:Controller/Drivers/drv8323/drv8323.c ****   // if (val2 & (1 << 7)) {
 165:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("OTW");
 166:Controller/Drivers/drv8323/drv8323.c ****   // }
 167:Controller/Drivers/drv8323/drv8323.c ****   // if (val2 & (1 << 6)) {
 168:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("CPUV");
 169:Controller/Drivers/drv8323/drv8323.c ****   // }
 170:Controller/Drivers/drv8323/drv8323.c ****   // if (val2 & (1 << 5)) {
 171:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("VGS_HA");
 172:Controller/Drivers/drv8323/drv8323.c ****   // }
 173:Controller/Drivers/drv8323/drv8323.c ****   // if (val2 & (1 << 4)) {
 174:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("VGS_LA");
 175:Controller/Drivers/drv8323/drv8323.c ****   // }
 176:Controller/Drivers/drv8323/drv8323.c ****   // if (val2 & (1 << 3)) {
 177:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("VGS_HB");
 178:Controller/Drivers/drv8323/drv8323.c ****   // }
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 16


 179:Controller/Drivers/drv8323/drv8323.c ****   // if (val2 & (1 << 2)) {
 180:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("VGS_LB");
 181:Controller/Drivers/drv8323/drv8323.c ****   // }
 182:Controller/Drivers/drv8323/drv8323.c ****   // if (val2 & (1 << 1)) {
 183:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("VGS_HC");
 184:Controller/Drivers/drv8323/drv8323.c ****   // }
 185:Controller/Drivers/drv8323/drv8323.c ****   // if (val2 & (1)) {
 186:Controller/Drivers/drv8323/drv8323.c ****   //   _printf("VGS_LC");
 187:Controller/Drivers/drv8323/drv8323.c ****   // }
 188:Controller/Drivers/drv8323/drv8323.c **** }
 704              		.loc 1 188 1 view .LVU151
 705 0000 7047     		bx	lr
 706              		.cfi_endproc
 707              	.LFE253:
 709              		.section	.text.drv8323_reg_val,"ax",%progbits
 710              		.align	1
 711              		.global	drv8323_reg_val
 712              		.syntax unified
 713              		.thumb
 714              		.thumb_func
 716              	drv8323_reg_val:
 717              	.LVL68:
 718              	.LFB254:
 189:Controller/Drivers/drv8323/drv8323.c **** 
 190:Controller/Drivers/drv8323/drv8323.c **** void drv8323_reg_val(drv8323_t* self) {
 719              		.loc 1 190 39 view -0
 720              		.cfi_startproc
 721              		@ args = 0, pretend = 0, frame = 0
 722              		@ frame_needed = 0, uses_anonymous_args = 0
 723              		@ link register save eliminated.
 191:Controller/Drivers/drv8323/drv8323.c ****   // _printf(
 192:Controller/Drivers/drv8323/drv8323.c ****   //     "FSR1:%04x FSR2:%04x DCR:%04x HSR:%04x LSR:%04x "
 193:Controller/Drivers/drv8323/drv8323.c ****   //     "OCPCR:%04x CSACR:%04x",
 194:Controller/Drivers/drv8323/drv8323.c ****   //     drv8323_read_register(self, FSR1), drv8323_read_register(self, FSR2),
 195:Controller/Drivers/drv8323/drv8323.c ****   //     drv8323_read_register(self, DCR), drv8323_read_register(self, HSR),
 196:Controller/Drivers/drv8323/drv8323.c ****   //     drv8323_read_register(self, LSR), drv8323_read_register(self, OCPCR),
 197:Controller/Drivers/drv8323/drv8323.c ****   //     drv8323_read_register(self, CSACR));
 198:Controller/Drivers/drv8323/drv8323.c **** }...
 724              		.loc 1 198 1 view .LVU153
 725 0000 7047     		bx	lr
 726              		.cfi_endproc
 727              	.LFE254:
 729              		.text
 730              	.Letext0:
 731              		.file 2 "C:/Users/Rick/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 732              		.file 3 "C:/Users/Rick/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-too
 733              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 734              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 735              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 736              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 737              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 738              		.file 9 "Controller/Drivers/drv8323/drv8323.h"
 739              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s 			page 17


DEFINED SYMBOLS
                            *ABS*:00000000 drv8323.c
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:21     .text._SPI_WRITE:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:27     .text._SPI_WRITE:00000000 _SPI_WRITE
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:90     .text._SPI_WRITE:00000044 $d
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:95     .text.drv8323_init:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:101    .text.drv8323_init:00000000 drv8323_init
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:158    .text.drv8323_init:00000040 $d
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:163    .text.drv8323_read_fsr1:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:169    .text.drv8323_read_fsr1:00000000 drv8323_read_fsr1
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:194    .text.drv8323_read_fsr2:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:200    .text.drv8323_read_fsr2:00000000 drv8323_read_fsr2
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:225    .text.drv8323_read_register:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:231    .text.drv8323_read_register:00000000 drv8323_read_register
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:260    .text.drv8323_write_register:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:266    .text.drv8323_write_register:00000000 drv8323_write_register
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:291    .text.drv8323_write_dcr:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:297    .text.drv8323_write_dcr:00000000 drv8323_write_dcr
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:362    .text.drv8323_write_hsr:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:368    .text.drv8323_write_hsr:00000000 drv8323_write_hsr
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:403    .text.drv8323_write_lsr:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:409    .text.drv8323_write_lsr:00000000 drv8323_write_lsr
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:452    .text.drv8323_write_ocpcr:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:458    .text.drv8323_write_ocpcr:00000000 drv8323_write_ocpcr
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:507    .text.drv8323_write_csacr:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:513    .text.drv8323_write_csacr:00000000 drv8323_write_csacr
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:578    .text.drv8323_enable_gd:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:584    .text.drv8323_enable_gd:00000000 drv8323_enable_gd
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:618    .text.drv8323_disable_gd:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:624    .text.drv8323_disable_gd:00000000 drv8323_disable_gd
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:659    .text.drv8323_calibrate:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:665    .text.drv8323_calibrate:00000000 drv8323_calibrate
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:690    .text.drv8323_print_faults:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:696    .text.drv8323_print_faults:00000000 drv8323_print_faults
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:710    .text.drv8323_reg_val:00000000 $t
C:\Users\Rick\AppData\Local\Temp\cc0EfFbq.s:716    .text.drv8323_reg_val:00000000 drv8323_reg_val

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_Delay
HAL_SPI_TransmitReceive
